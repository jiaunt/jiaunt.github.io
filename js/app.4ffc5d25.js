(function(){"use strict";var t={518:function(t,n,a){var e=a(144),o=function(){var t=this,n=t._self._c;return n("div",{attrs:{id:"app"}},[n("keep-alive",[n("router-view")],1)],1)},i=[],r={name:"App",components:{}},s=r,l=a(1001),h=(0,l.Z)(s,o,i,!1,null,null,null),c=h.exports,d=a(8345),u=function(){var t=this,n=t._self._c;return n("div",{staticClass:"centent_box",on:{touchstart:t.handelTouchStart,touchend:t.handelTouchend}},[n("article",{staticClass:"cards_box"},t._l(t.cards_arr,(function(a,e){return n("div",{key:e,staticClass:"card",on:{click:t.toContentPage}},[n("img",{attrs:{src:a.url,alt:""}})])})),0),n("div",{staticClass:"now_card_name"},[t._v(t._s(t.now_card_name))]),t._m(0)])},g=[function(){var t=this,n=t._self._c;return n("article",{staticClass:"loading_page"},[n("div",{staticClass:"loading"},[n("div",{staticClass:"processContet"},[n("div",{staticClass:"process"})])])])}],m=(a(7658),a(2482)),_=a(9477),p=a(9365),w=a(1411),f=a(9755),y=a.n(f);class b{constructor(){(0,m.Z)(this,"card_index",void 0),(0,m.Z)(this,"dom",void 0),(0,m.Z)(this,"scene",void 0),(0,m.Z)(this,"camera",void 0),(0,m.Z)(this,"renderer",void 0),(0,m.Z)(this,"ambientLight",void 0),(0,m.Z)(this,"directionalLight",void 0),(0,m.Z)(this,"model_list",[]),(0,m.Z)(this,"controls",null),(0,m.Z)(this,"now_showMOdel_name",""),(0,m.Z)(this,"mixer_chuntian",null),(0,m.Z)(this,"mixer_furongwang",null),(0,m.Z)(this,"mixer_rongyao",null),(0,m.Z)(this,"action_chuntian",null),(0,m.Z)(this,"action_furongwang",null),(0,m.Z)(this,"action_rongyao",null),(0,m.Z)(this,"environmentMap",null),(0,m.Z)(this,"is_start_chuntian",!1),(0,m.Z)(this,"is_start_furongwang",!1),(0,m.Z)(this,"is_start_rongyao",!1),(0,m.Z)(this,"is_auto_chuntian",!0),(0,m.Z)(this,"is_auto_furongwang",!0),(0,m.Z)(this,"is_auto_rongyao",!0),(0,m.Z)(this,"now_name",""),this.scene_init(),this.light_init(),this.controls_init(),this.loadModel(),this.viewResize()}scene_init(){this.scene=new _.xsS,this.camera=new _.cPb((window.innerWidth,window.innerHeight,1e4)),this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.position.set(0,4,26),this.camera.setFocalLength=12,this.camera.updateProjectionMatrix(),this.renderer=new _.CP7({alpha:!0,antialias:!0,sortObjects:!0,logarithmicDepthBuffer:!0}),this.renderer.setClearColor("#f0eded",0),this.renderer.setPixelRatio(Math.min(window.devicePixelRatio,2));let t=new _.SUY,n=0,a=()=>{const e=t.getElapsedTime(),o=e-n;n=e,null!=this.controls&&this.controls.update(),null!=this.mixer_chuntian&&this.mixer_chuntian.update(6*o),null!=this.mixer_furongwang&&this.mixer_furongwang.update(6*o),null!=this.mixer_rongyao&&this.mixer_rongyao.update(6*o),this.is_auto_chuntian&&this.model_list.forEach((t=>{"chuntian"==this.now_name&&t.rotateY(.006)})),this.is_auto_furongwang&&this.model_list.forEach((t=>{"furongwang"==this.now_name&&t.rotateY(.006)})),this.is_auto_rongyao&&this.model_list.forEach((t=>{"rongyao"==this.now_name&&t.rotateY(.006)})),this.controls,this.renderer.render(this.scene,this.camera),requestAnimationFrame(a)};a()}auto_rotateAnimate(t){"chuntian"==t?this.is_auto_chuntian=!this.is_auto_chuntian:"furongwang"==t?this.is_auto_furongwang=!this.is_auto_furongwang:"rongyao"==t&&(this.is_auto_rongyao=!this.is_auto_rongyao)}start_animateAciton(t){"chuntian"==t?(this.is_start_chuntian?this.action_chuntian.paused=!0:this.action_chuntian.paused=!1,this.is_start_chuntian=!this.is_start_chuntian):"furongwang"==t?(this.is_start_furongwang?this.action_furongwang.paused=!0:(this.action_furongwang.play(),this.action_furongwang.paused=!1),this.is_start_furongwang=!this.is_start_furongwang):"rongyao"==t&&(this.is_start_rongyao?this.action_rongyao.paused=!0:this.action_rongyao.paused=!1,this.is_start_rongyao=!this.is_start_rongyao)}add2dom(t){this.dom=t,this.dom.appendChild(this.renderer.domElement),this.renderer.setSize(window.innerWidth,window.innerHeight),this.controls_init(),console.log("dom添加完毕")}light_init(){this.ambientLight=new _.Mig(4210752,3.5),this.scene.add(this.ambientLight),this.directionalLight=new _.Ox3(16777215,.6),this.directionalLight.position.set(15,15,-15),this.scene.add(this.directionalLight),this.directionalLight2=new _.Ox3(16777215,.6),this.directionalLight2.position.set(-15,-15,15),this.scene.add(this.directionalLight2)}controls_init(){this.controls=new p.z(this.camera,this.renderer.domElement),this.controls.enablePan=!1,this.controls.enableZoom=!1,this.controls.enableDamping=!0,this.controls.maxDistance=25,this.controls.maxPolarAngle=Math.PI/1.8,this.controls.minPolarAngle=Math.PI/4.2,this.controls.addEventListener("change",(()=>{})),this.controls.target=new _.Pa4(0,3,0),this.controls.update()}camera1_2near(){this.camera.zoom<3&&(this.camera.zoom+=.1,this.camera.updateProjectionMatrix())}camera1_2far(){this.camera.zoom>1.1&&(this.camera.zoom-=.1,this.camera.updateProjectionMatrix())}updateAllMaterials(){this.scene.traverse((t=>{t instanceof _.Kj0&&t.material instanceof _.Wid&&(t.material.envMapIntensity=2,t.material.needsUpdate=!0)}))}loadModel(){let t=new _.lLk;t.onStart=()=>{},t.onLoaded=()=>{},t.onProgress=t=>{},t.onError=()=>{};const n=new _.cBK;this.environmentMap=n.load(["./environmentMaps/px.jpg","./environmentMaps/nx.jpg","./environmentMaps/py.jpg","./environmentMaps/ny.jpg","./environmentMaps/pz.jpg","./environmentMaps/nz.jpg"]),this.environmentMap.encoding=_.knz,this.scene.environment=this.environmentMap;let a=new _.dpR(t),e=new _.Wid({map:a.load("./model/chuntian/chuntian_lambert1_BaseColor.png"),aoMap:a.load("./model/chuntian/chuntian_lambert1_Ao.png"),normalMap:a.load("./model/chuntian/chuntian_lambert1_Normal.png"),roughnessMap:a.load("./model/chuntian/chuntian_lambert1_Roughness.png"),metalnessMap:a.load("./model/chuntian/chuntian_lambert1_Metallic.png")});e.aoMapIntensity=.3;let o=new _.Wid({map:a.load("./model/chuntian/chuntian_lambert3_BaseColor.png"),aoMap:a.load("./model/chuntian/chuntian_lambert3_Ao.png"),normalMap:a.load("./model/chuntian/chuntian_lambert3_Normal.png"),roughnessMap:a.load("./model/chuntian/chuntian_lambert3_Roughness.png"),metalnessMap:a.load("./model/chuntian/chuntian_lambert3_Metallic.png")});o.aoMapIntensity=.5;let i=new _.Wid({map:a.load("./model/chuntian/chuntian_lambert4_BaseColor.png"),aoMap:a.load("./model/chuntian/chuntian_lambert4_Ao.png"),normalMap:a.load("./model/chuntian/chuntian_lambert4_Normal.png"),roughnessMap:a.load("./model/chuntian/chuntian_lambert4_Roughness.png"),metalnessMap:a.load("./model/chuntian/chuntian_lambert4_Metallic.png")});i.aoMapIntensity=.3;let r=new _.Wid({map:a.load("./model/furongwang/furongwang_initialShadingGroup_BaseColor.png"),aoMap:a.load("./model/furongwang/furongwang_initialShadingGroup_Ao.png"),normalMap:a.load("./model/furongwang/furongwang_initialShadingGroup_Normal.png"),roughnessMap:a.load("./model/furongwang/furongwang_initialShadingGroup_Roughness.png"),metalnessMap:a.load("./model/furongwang/furongwang_initialShadingGroup_Metallic.png")});r.aoMapIntensity=.4;let s=new _.Wid({map:a.load("./model/furongwang/furongwang_lambert2SG_BaseColor.png"),aoMap:a.load("./model/furongwang/furongwang_lambert2SG_Ao.png"),normalMap:a.load("./model/furongwang/furongwang_lambert2SG_Normal.png"),roughnessMap:a.load("./model/furongwang/furongwang_lambert2SG_Roughness.png"),metalnessMap:a.load("./model/furongwang/furongwang_lambert2SG_Metallic.png")});s.aoMapIntensity=.4;let l=new _.Wid({map:a.load("./model/furongwang/furongwang_lambert3SG_BaseColor.png"),aoMap:a.load("./model/furongwang/furongwang_lambert3SG_Ao.png"),normalMap:a.load("./model/furongwang/furongwang_lambert3SG_Normal.png"),roughnessMap:a.load("./model/furongwang/furongwang_lambert3SG_Roughness.png"),metalnessMap:a.load("./model/furongwang/furongwang_lambert3SG_Metallic.png")});l.aoMapIntensity=.5;let h=new _.Wid({map:a.load("./model/rongyao/rongyao_lambert4SG_BaseColor.png"),aoMap:a.load("./model/rongyao/rongyao_lambert4SG_Ao.png"),normalMap:a.load("./model/rongyao/rongyao_lambert4SG_Normal.png"),roughnessMap:a.load("./model/rongyao/rongyao_lambert4SG_Roughness.png"),metalnessMap:a.load("./model/rongyao/rongyao_lambert4SG_Metallic.png")});h.aoMapIntensity=.3;let c=new _.Wid({map:a.load("./model/rongyao/rongyao_lambert5SG_BaseColor.png"),aoMap:a.load("./model/rongyao/rongyao_lambert5SG_Ao.png"),normalMap:a.load("./model/rongyao/rongyao_lambert5SG_Normal.png"),roughnessMap:a.load("./model/rongyao/rongyao_lambert5SG_Roughness.png"),metalnessMap:a.load("./model/rongyao/rongyao_lambert5SG_Metallic.png")});c.aoMapIntensity=.3;let d=new _.Wid({map:a.load("./model/rongyao/rongyao_lambert6SG_BaseColor.png"),aoMap:a.load("./model/rongyao/rongyao_lambert6SG_Ao.png"),normalMap:a.load("./model/rongyao/rongyao_lambert6SG_Normal.png"),roughnessMap:a.load("./model/rongyao/rongyao_lambert6SG_Roughness.png"),metalnessMap:a.load("./model/rongyao/rongyao_lambert6SG_Metallic.png")});d.aoMapIntensity=.5;let u=new w.y;u.load("./model/chuntian/chuntian.fbx",(t=>{this.scene.add(t),t.visible=!1,this.model_list.push(t),t.name="chuntian",t.position.set(.6,1,0),this.controls.target=new _.Pa4(0,0,0),this.controls.update(),t.traverse((function(t){!t.isMesh||"hezi"!=t.name&&"gaizi"!=t.name?t.isMesh&&"hezi_out001Mesh"==t.name?t.material=i:t.isMesh&&(t.material=o):t.material=e})),this.mixer_chuntian=new _.Xcj(t),this.action_chuntian=this.mixer_chuntian.clipAction(t.animations[0]),this.action_chuntian.play(),this.action_chuntian.paused=!0})),u.load("./model/furongwang/furongwang.fbx",(t=>{this.scene.add(t),t.visible=!1,this.model_list.push(t),t.name="furongwang",t.scale.set(.75,.75,.75),t.position.set(0,3,0),t.traverse((function(t){!t.isMesh||"furongwangDown"!=t.name&&"furongwangUP"!=t.name&&"pasted__furongwangUP"!=t.name&&"pasted__furongwangDown"!=t.name?!t.isMesh||"furongwangInner"!=t.name&&"pasted__furongwangInner"!=t.name?t.isMesh&&(t.material=l):t.material=s:t.material=r})),this.mixer_furongwang=new _.Xcj(t),this.action_furongwang=this.mixer_furongwang.clipAction(t.animations[0]),this.action_furongwang.play(),this.action_furongwang.paused=!0,this.updateAllMaterials()}),(t=>{let n=y()(".processContet").css("width").replace("px","")*(t.loaded/t.total);y()(".process").css("width",n),t.loaded/t.total*100>=100&&setTimeout((function(){y()(".loading").fadeOut(),y()(".loading_page").css("display","none"),y()(".cards_box").css("display","block")}),1e3)})),u.load("./model/rongyao/rongyao.fbx",(t=>{this.scene.add(t),t.visible=!1,this.model_list.push(t),t.name="rongyao",t.scale.set(.75,.75,.75),t.position.set(0,3,0),t.traverse((function(t){!t.isMesh||"furongwangDown"!=t.name&&"furongwangUP"!=t.name?t.isMesh&&"furongwangInner"==t.name?t.material=c:t.isMesh&&(t.material=d):t.material=h})),this.mixer_rongyao=new _.Xcj(t),this.action_rongyao=this.mixer_rongyao.clipAction(t.animations[0]),this.action_rongyao.play(),this.action_rongyao.paused=!0}))}set_now_showMOdel_name(t){this.now_showMOdel_name=t}re0_now_showMOdel_name(t){this.now_showMOdel_name=""}model_show(t){console.log("烟的index",t),console.log("模型列表",this.model_list),console.log("当前模型",this.model_list[t]),this.model_list[t].visible=!0}model_show2(t){this.now_name=t,this.model_list.forEach((n=>{n.name==t&&(n.visible=!0)}))}model_hide(){this.model_list.forEach((t=>{t.visible=!1,console.log(t.visible)}))}viewResize(){window.addEventListener("resize",(()=>{this.renderer.setSize(window.innerWidth,window.innerHeight),this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setPixelRatio(Math.min(window.devicePixelRatio,2))}))}help_init(){const t=new _.y8_(100);this.scene.add(t)}}var M={data(){return{isLoading:!1,startTime:0,startX:0,cards_arr:[{name:"chuntian__1",pic_url:"chuntian",url:"./images/chuntian.jpg",details:{name:"春天",type:"烤烟型",tar:"10mg",alkali:"0.9mg",co:"9mg",packing:"89mm硬盒包装",retail:"300元/条"}},{name:"furongwang__2",pic_url:"furongwang",url:"./images/furongwang.jpg",details:{name:"芙蓉王",type:"",tar:"",alkali:"",co:"",packing:"",retail:""}},{name:"rongyao__3",pic_url:"rongyao",url:"./images/rongyao.jpg",details:{name:"荣耀",type:"",tar:"",alkali:"",co:"",packing:"",retail:""}}],now_card_name:""}},mounted(){this.wrapper()},methods:{toContentPage(){window.TE.set_now_showMOdel_name("?"),this.$router.push({name:"ContentPage",params:{card_index:this.current,card_details:this.cards_arr[this.current].details,card_name:this.cards_arr[this.current].pic_url}})},wrapper(){this.cards=document.getElementsByClassName("card"),this.cards_length=this.cards.length,this.current=0,this.timer,this.frount(),this.bind()},frount(){let t,n,a=Math.floor(this.cards_length/2);for(let e=0;e<a;e++)t=this.cards_length+this.current-e-1,n=this.current+e+1,t>=this.cards_length&&(t-=this.cards_length),n>=this.cards_length&&(n-=this.cards_length),this.cards[t].style.transform="translateX("+-63*(e+1)+"px) translateZ("+(200-100*e)+"px) rotateY(30deg)",this.cards[n].style.transform="translateX("+63*(e+1)+"px) translateZ("+(200-100*e)+"px) rotateY(-30deg)";this.cards[this.current].style.transform="translateZ(300px)";for(let e=0;e<this.cards.length;e++)this.cards[e].style.backgroundColor="rgba(255, 255, 255, 0.92)";this.cards[this.current].style.backgroundColor="rgba(255, 255, 255)",this.now_card_name=this.cards_arr[this.current].details.name},bind(){let t=this;for(var n=0;n<this.cards_length;n++)(function(n){t.cards[n].onclick=function(){t.current=n,t.frount()}})(n)},autoplay(){let t=this;t.current>=t.cards_length-1?t.current=0:t.current++,t.frount()},handelTouchStart(t){this.startTime=Date.now(),this.startX=t.changedTouches[0].clientX},handelTouchend(t){Date.now();let n=t.changedTouches[0].clientX;this.startTime;let a=this.startX-n;Math.abs(a)>2&&0==this.isLoading&&(a>0?this.current!=this.cards.length-1?(this.current++,this.frount()):(this.current=0,this.frount()):0!=this.current?(this.current--,this.frount()):(this.current=this.cards.length-1,this.frount()))}}},v=M,x=(0,l.Z)(v,u,g,!1,null,"61d6a444",null),C=x.exports,S=function(){var t=this,n=t._self._c;return n("div",{staticClass:"centent_box"},[n("article",{staticClass:"threeContent",attrs:{id:"threeContent"}}),n("article",{staticClass:"bottom_panel"},[n("div",{staticClass:"button_box"},[n("div",{staticClass:"start_box",on:{click:t.start_animateAciton}},[n("div",{staticClass:"start_icon"})]),n("div",{staticClass:"auto_box",on:{click:t.auto_rotateAnimate}},[n("div",{staticClass:"start_icon2"})])])])])},P=[],Z={data(){return{card_index:"",card_name:"",details:{},is_start:!1}},mounted(){this.card_index=this.$route.params.card_index,this.card_name=this.$route.params.card_name,this.details=this.$route.params.card_details;let t=window.document.getElementById("threeContent");window.TE.add2dom(t),window.TE.model_show2(this.card_name),t.addEventListener("touchstart",this.touch,!1),t.addEventListener("touchmove",this.touch,!1)},activated(){this.card_index=this.$route.params.card_index,this.card_name=this.$route.params.card_name,this.details=this.$route.params.card_details,window.TE.model_show2(this.card_name)},deactivated(){window.TE.model_hide()},methods:{touch(t){let n;switch(t.type){case"touchstart":n=t.touches[0].clientX,this.clientX_start=n;break;case"touchend":this.callbackFun();break;case"touchmove":t.preventDefault();break}},start_animateAciton(){return window.TE.start_animateAciton(this.card_name)},auto_rotateAnimate(){return window.TE.auto_rotateAnimate(this.card_name)}}},G=Z,j=(0,l.Z)(G,S,P,!1,null,"3385b997",null),k=j.exports;e.ZP.use(d.ZP);var A=new d.ZP({routes:[{path:"/",name:"SelectPage",component:C},{path:"/ContentPage",name:"ContentPage",component:k}]}),E=a(629),T={},O={},L={},z={};e.ZP.use(E.ZP);var I=new E.ZP.Store({state:T,getters:O,mutations:L,action:z}),R=a(6111),W=a.n(R);e.ZP.use(W()),window.TE=new b,e.ZP.config.productionTip=!1,new e.ZP({router:A,store:I,render:t=>t(c)}).$mount("#app")}},n={};function a(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={exports:{}};return t[e].call(i.exports,i,i.exports,a),i.exports}a.m=t,function(){var t=[];a.O=function(n,e,o,i){if(!e){var r=1/0;for(c=0;c<t.length;c++){e=t[c][0],o=t[c][1],i=t[c][2];for(var s=!0,l=0;l<e.length;l++)(!1&i||r>=i)&&Object.keys(a.O).every((function(t){return a.O[t](e[l])}))?e.splice(l--,1):(s=!1,i<r&&(r=i));if(s){t.splice(c--,1);var h=o();void 0!==h&&(n=h)}}return n}i=i||0;for(var c=t.length;c>0&&t[c-1][2]>i;c--)t[c]=t[c-1];t[c]=[e,o,i]}}(),function(){a.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(n,{a:n}),n}}(),function(){a.d=function(t,n){for(var e in n)a.o(n,e)&&!a.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:n[e]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};a.O.j=function(n){return 0===t[n]};var n=function(n,e){var o,i,r=e[0],s=e[1],l=e[2],h=0;if(r.some((function(n){return 0!==t[n]}))){for(o in s)a.o(s,o)&&(a.m[o]=s[o]);if(l)var c=l(a)}for(n&&n(e);h<r.length;h++)i=r[h],a.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return a.O(c)},e=self["webpackChunkchina_tobacco"]=self["webpackChunkchina_tobacco"]||[];e.forEach(n.bind(null,0)),e.push=n.bind(null,e.push.bind(e))}();var e=a.O(void 0,[998],(function(){return a(518)}));e=a.O(e)})();
//# sourceMappingURL=app.4ffc5d25.js.map